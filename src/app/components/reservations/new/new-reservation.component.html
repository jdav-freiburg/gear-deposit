<div class="form-group">
    <label for="reservationDescription">Beschreibung der Ausfahrt</label>
    <input class="form-control" type="text" [(ngModel)]="reservation.name" id="reservationDescription"
           placeholder="Name der Ausfahrt">
</div>
<div class="form-group">
    <label for="reservationStart">Beginn der Reservierung</label>
    <input class="form-control" type="date" [(ngModel)]="reservation.begin" id="reservationStart">
</div>
<div class="form-group">
    <label for="reservationEnd">Ende der Reservierung</label>
    <input class="form-control" type="date" [(ngModel)]="reservation.end" id="reservationEnd">
</div>

<jgd-items #hackedItemsComponent [items]="items"
           [class]="reserved.items.size > 0 ? 'aside': ''"
           (selected)="addToSelected($event)"
           (deselected)="removeFromSelected($event)">
</jgd-items>


<div *ngIf="selected.size > 0 || reserved.items.size > 0"
     [class]="mobileToggled ? 'mobile-minimized': 'mobile-maximized'">

    <div class="reserved-items">
        <p>Bereit hinzugefügt:</p>
        <!-- FIXME refactor to simple-item-list -->
        <jgd-toggleable-reserved-item-list [itemStacks]="reserved"></jgd-toggleable-reserved-item-list>
    </div>

    <jgd-footer *ngIf="selected.size > 0"
                (click)="toggle()"
                [state]="mobileToggled ? 'mobile-minimized': 'mobile-maximized'"
                [submitIcon]="'add'"
                [submitTitle]="(selected.size > 1 ? 'Gegenstände ' : 'Gegenstand ') + 'hinzufügen'"
                [description]="selected.size + (selected.size > 1 ? ' Gegenstände ' : ' Gegenstand ') + 'ausgewählt'"
                [descriptionIcon]="mobileToggled ? 'keyboard_arrow_up' : 'keyboard_arrow_down'"
                (submitted)="addSelectedToReservation(); hackedItemsComponent.items = items;"></jgd-footer>

    <jgd-footer *ngIf="selected.size === 0 && reserved.items.size > 0" class="hidden-sm-up"
                (click)="toggle()"
                [state]="mobileToggled ? 'mobile-minimized': 'mobile-maximized'"
                [submitIcon]="'save'"
                [submitTitle]="'Reservierung speichern'"
                [description]="reserved.items.size + (reserved.items.size > 1 ? ' Gegenstände ' : ' Gegenstand ') + 'in Reservierung'"
                [descriptionIcon]="mobileToggled ? 'keyboard_arrow_up' : 'keyboard_arrow_down'"
                (submitted)="saveReservation()">
    </jgd-footer>
    <jgd-footer *ngIf="selected.size === 0 && reserved.items.size > 0" class="hidden-xs-down"
                (click)="toggle()"
                [state]="mobileToggled ? 'mobile-minimized': 'mobile-maximized'"
                [submitIcon]="'save'"
                [submitTitle]="'Reservierung speichern'"
                [description]="'Du hast bereits ' + reserved.items.size + (reserved.items.size > 1 ? ' Gegenstände ' : ' Gegenstand ') + 'hinzugefügt.'"
                [descriptionIcon]="mobileToggled ? 'keyboard_arrow_up' : 'keyboard_arrow_down'"
                (submitted)="saveReservation()">
    </jgd-footer>
</div>
